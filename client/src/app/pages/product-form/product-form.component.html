<div class="max-w-5xl m-auto flex gap-5 justify-center text-slate-700 mb-20">
  <form
    class="flex flex-col gap-5 w-96"
    [formGroup]="productForm"
    (ngSubmit)="onSubmit()"
  >
    <h3 class="text-center font-bold text-xl">
      {{ isEditing ? "Edit product" : "Add new product" }}
    </h3>

    <app-input
      [control]="productForm.controls.name"
      inputId="name"
      inputType="text"
      label="Name"
      [isRequired]="true"
    />

    <app-input
      [control]="productForm.controls.description"
      inputId="description"
      inputType="textarea"
      label="Description"
      [isRequired]="false"
    />

    <app-input
      [control]="productForm.controls.imageurl"
      inputId="imageurl"
      inputType="text"
      label="Image (URL)"
      [isRequired]="true"
    />

    <app-input
      [control]="productForm.controls.price"
      inputId="price"
      inputType="number"
      label="Price"
      [isRequired]="true"
    />

    <label for="discount-state" class="flex justify-between">
      <span>Add discount to the product</span>
      <input
        type="checkbox"
        id="discount-state"
        [(ngModel)]="discountFieldIsDisplayed"
        [ngModelOptions]="{ standalone: true }"
      />
    </label>

    <app-input
      *ngIf="discountFieldIsDisplayed"
      [control]="productForm.controls.price"
      inputId="discount"
      inputType="number"
      label="Discount"
      [isRequired]="true"
    />

    <button
      class="rounded-xl p-2 font-semibold text-slate-200 bg-green-800 hover:bg-green-700 cursor-pointer transition-colors disabled:cursor-not-allowed disabled:bg-green-700/80"
      [disabled]="!productForm.valid"
    >
      Submit
    </button>
    <button
      class="rounded-xl p-2 font-semibold text-slate-200 bg-red-800 hover:bg-red-700 cursor-pointer transition-colors disabled:cursor-not-allowed"
      *ngIf="isEditing"
      type="button"
      (click)="onDeleteItem()"
    >
      Delete
    </button>
  </form>
</div>
